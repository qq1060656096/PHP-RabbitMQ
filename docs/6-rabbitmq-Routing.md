# 路由模式
> 有选择地接收消息

在前面的教程中我们建立了一个简单的日志记录系统。我们可以播放许多接收器日志消息。

在本教程中,我们将添加一个特性——我们将可以订阅信息的一个子集。例如,我们将能够直接只关键错误消息日志文件(为了节省磁盘空间),同时仍然能够在控制台上打印所有的日志消息。

### 绑定
> 在之前的例子我们已经创建绑定。你可能记得代码:

```php
$channel->queue_bind($queue_name, 'logs');
```

绑定是关联了exchange和quque。这可以简单地理解为:queue只感兴趣这个的exchange。

绑定可以额外routing_key参数,为了避免混乱$channel::basic_publish参数我们称之为 binding _key,这是我们如何创建一个binding_key:

```php
$binding_key = 'black';
$channel->queue_bind($queue_name, $exchange_name, $binding_key);
```

binding_key依赖于exchange type。fanout exchanges,我们使用之前,这个参数是被忽略的。


### Direct exchange

我们的日志系统从前面的教程广播所有消费者的所有消息。我们想扩展允许过滤消息根据其严重性。例如,我们可能希望日志消息写入磁盘的脚本只接收关键错误,而不是浪费磁盘空间警告或信息日志消息。

我们使用一个fanout exchanges,不会给我们太多的灵活性——这只是盲目的广播的能力。

我们将使用一个direct exchange。direct exchange背后的路由算法很简单——一个消息的队列binding_key完全匹配message的routing_key。

### 为了说明这一点,考虑下面的设置
![avatar](data:image/png;base64,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)

在上图中: exchange X和两个queue绑定在一起。queue Q1的binding key是orange。queue Q2的binding key是black和green。
    当P publish key是orange时，exchange会把它放到Q1。如果是black或者green那么就会到Q2。其余的Message都会被丢弃。

### Multiple bindings

![avatar](data:image/png;base64,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)


多个queue绑定到相同的binding_key是合法的。在我们的例子中,我们可以添加一个绑定X和Q1之间绑定关键黑色。在这种情况下,直接交换将像扇出,广播到所有匹配的消息队列。消息路由关键黑色将Q1和Q2。

多个queue绑定到相同的binding_key是合法的。这个的例子中，Q1和Q2都绑定了black。也就是说，对于routing_key是black的Message，会被放到到Q1和Q2。其余的Message都会被丢弃。这样的direct exchange很像fanout exchange


### 发送日志

我们将使用这个模型我们的日志系统。而不是扇出我们会发送消息到一个直接交换。我们将提供日志严重性作为路由的关键。这样接收脚本将能够选择严重性要收到。让我们先关注排放日志。



像往常一样,我们首先需要创建一个交流:

```php
$channel->exchange_declare('direct_logs', 'direct', false, false, false);
```
我们准备发送消息:

```php
$channel->exchange_declare('direct_logs', 'direct', false, false, false);
$channel->basic_publish($msg, 'direct_logs', $severity);

```
简化我们假定“严重性”可以是一个‘信息’,‘警告’,‘错误’。

### 订阅

接收消息的工作就像在前面的教程中,有一个例外,我们要创建一个新绑定每个严重性我们感兴趣。

```php
foreach($severities as $severity) {
    $channel->queue_bind($queue_name, 'direct_logs', $severity);
}

```

把它放在一起

![avatar](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAacAAACrCAYAAADCWlNXAAAABmJLR0QA/wD/AP+gvaeTAAAgAElEQVR4nO3dd3wb9fnA8Y+mty1vZ2CyF2EmQAkrjJY9C2WPNGW17DYpq0AhlFGgQNmUMAo0jEIKYW8IgV8JDRASyCTLiR1Pecm2dLrfH4+MZUeSLUu2ZOd5v156xbo7fe8r53zPfTcopZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSqh+Zic6A2pY10RlQSqkYDQNeBGqBFuAT4Oig/bnAC0ATUAnc2M/5U72gwUkpNdDNA9YAE4Ac4E/ARUH7HwKagR2A8cAoYEY/51EppbY7o4BXgQak5PAmUBTYZwLXIaWKLcCxwNVAdeD9oUHppABPICWMcmAWHVVeJjAbqAjsnxs4Ppw04KmgtGYHpWUDbgW2IkFjHpAVdJ4LgXVAG7AE2K2b798WOF84DUjpqV0e8GnQ+2i/m+oHWnJSauB7DbgHCUjFwArg7qD9RcBwJEg9FzimNPA++LibgUJgJLArcHCX8xwA7BzYXwzcFCFPNyOlmBGBz+wXtO8aYAqwRyAdD3B70P7pwL5IQHkFeDTCeQC+QoLdqDD7LSG2Te7yPprvppRSqhfSkVIJSKkgL/BzSoj33qDPbQLGBL0fR+eSU/C+scDGCHnYROdgMSYorXVI9Vq7YqR01TW/7d8lOI+hDAX+AZQB9Uj70g5B+18EHkeCXS5SMgpOM9rvppRSqgemIdVUjciN1gT8gX1de6JFeu9Dqtza2ekcnLruixQ0IqXlDez3AUY3+e26zQx6hVIA/BVY1GXby0gVYjlwPVKlGZxmNN9NKaVUD2wCTkGq0SxANp2DSrBI77uWnMYSvuQ0JnB8OGWELzltQHrYhdJdcOqJdKQdKpxfA892ST+a76aUUqoHqoHjkGq6UUgHg94Ep78iHSsKkXaq17uk076vEGnnuiNCunch7UUFgderQcdcE0h7NFJK2TmQ51DphNsWbAFwIJAaONcc4L9B+/+BtLmlAccD6+lcrRjpu0Xz+1NKKRXkeKQrtQ+58V5C74JTKtLDrhnpuRapt96TgePDpZsO/DMorWvoKM1YkR6D6wLbliIlv1DphNsW7ChkbFML4EaCy+ig/b9GSnJNwDvA7iHSD/fdNDgppVQSChfkojUBWBtjGkoppRQQW3D6G9I7rgSpxrs78uFKddBxTkqpvrIOWAmsAuqQXnJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJK9QVLojOglIpdBsxrhRMyZJnyXjPBYoDdHoeVYH3gsIHPEuOM5iZY/GC3xSdPTnvkhQh7pAHyMuCJBvhNrGklmUJgN6s9ZRdbTu6uWCwj8BvFmDj9vrZ0LFbDarO1YLF6sNvL8HrXeeurF2MYS4GvAU+8MmKPV0JKqcTJhKy3wLmfLLbXaxuQhZae7e7AHjgDuBUojTGdpcBDwIMx5wiORr5bTozpvA5cBFkNsWcp0RzAdEdu0Vmm6T/ImpGVnjH5Z5aMiVOzU0vH2hyFQ3Hkl2BNTcdid2AaPjBNfA21eKvLJ3m3ltHy4/Kzm777b1PTD/+zWEyzwvS2veprqJ0HLIklYxqclFJq+zPe5iqYhd84MWvqweQfcUZu1p4HY8vsWdi2ZeeSMmxU+9uUwIu2io257s/eGFf92lMzW9avbDV9bQ/4mxseBaqizaAGJ6WU2n5MsrsK77FlZu9ZMuPq7LzDT7daU9LilrizeAcKT7zAWnjiBfneys1UvfLon7a+8MAs0288a9TX3kgUQUrXc1JKqcEvw5aT94hzSOlnO1736KGTX1nlKjhuZlwDU1eOwqEMOf/G1J0XrHcNmXH1ebacvBXW9PTf0sO+DhqclFJqcJtiy8pdUXzKpWdPfnmVyzX9eAuW/usLZ01Np/isWc6dXlyel73nz2+1uwo+RTpeRP5cP+RNKaVUAticaSc5Coe/N+6Bd4YNOf+GVIvDmbC8OPKKGX3X/Oxhl96xty0772tgXKTjNTgppdQgZEvNOMc5bORjE59d7EqfNDXR2flJwbEz7GPvWTDU7ipcSIQApcFJKaUGGXtq6nR70dB7xj+xyOXIK050draRscs+jL3vjUK7q+AjoCjUMRqclFJqcMkj0/XcuIc/cPW0a3gipE+ayo43PlnsyCt6mRCdJDQ4KaXUIOIoHPpA6ez7i5xFw2NKx/3ZGyw/fTf+t08K3x0/hurXnoxPBoO49jvKmnPAMZNtGdmndd2nwUkppQaP8Y6CIYfkHvxLWyyJNH67iPU3zWT4Jbez+ycNjL3/bRr+93G88tjJ8Ev/mmNNy7iNLuNuNTgppVTyS6UHU1M5CopnlZx7dUxTWAFUPHk7wy65jex9DsPicJIyfDQjbngi1mRDsmXnkj3tiGxstiODt2twUkqp5FcEVAJfAGcBmaEO8rd5j3Ptf3TMg5gav/mMnH2P7P7AOCk4+pwcZ17RhcHbNDgppdTAUAnsjcyBuwl4GziewLx2wIiU4uEWizMlzMd7zmiow5aTF3M6PZU+eS+M1rZO/d11bj2llBpY2ktNv0CClQm8ByxyDh0dl6kfbFkuDHcN9txuJ3KIC6szFYuFFKTA5AcNTkop1SsVsD+wpp9OZwdCTe/Q3lf8ROCkpuVfen3uauw5+TGdLGPXabg/f4v8I88Ke8xXUyUOTlkc03JdP7Gkphu4qzMJrEmmwUkppXqhGD7dCKf00+lKgcVdtvmQG7kbeAxYmTFpj0fsOfmxRSag5NyrWPvHk3Hkl5C1x4G0VWxky9xbGHH93J+OmbLY/ClAxYPf02gjaLFMDU5KKTUwOJAqrzpkNd+ngCeAFYH9JS0//hCXE2XuMo0dr3uMTffOouXH73GWlDJk5nVxSTsUo9ENVmuntRs1OCml1MDgAh4F/gF8GWJ/ua++ps1obsCWnhXzyXL2PTJij732UtNXUy0xV+01frsIq92x0Ajapr311GBnQ1YL3wo0A/OA9r9cE7gC2EigETbMtlSk2sQdeD0a2EaEzygVT2XItXwBoQOTMM2na97+l68/MjRlsfnTK1aVLz5U460qvz94mwYnNdhdA0wB9gCKAQ9we9D+vQP7rBG2zQGGAmORWZRLgZu7nCdUOkrFi0EPHnx87uq/bf3nnTWm3+ju0KTRtmU9zd9/tRX4LHi7/iGpwW4mcAkyLqQBuArp2dTuSmT8CBG2nQZcjpS+KoBLA9sifUapRKgwGhv+uXXefZ5EZ6Sn1t3061pv3dYLkRqIn2hwUoPdMGAZ0rPJAMrpPEX/5hCf6bqtGFgb9H5tYFukzyiVEN6a8msrnritzLPym0RnpVsVz93T2rJ22Zv4fNtM3KfBSQ12W4Adkc4/NmRq/miv+wpgZND7UUgpSqlk1Oqt3XrsyksPr2rduDrReQnL/eF8X/njt6z1Vlf8JtR+DU5qsHsY6cAwGglQOyOdIqLxPHAPUuIqAu7tRRpK9afvfe7qY36YuV+tZ9W3ic7LNmoWPO378eZfb/S5qw5E2oG3ocFJDXa3AQuB95Hees8Br0SZxrVI6Wl14LUZ6LtBH505kLr4cmQ2gq+Bz4F3gReAucDddbDL+3SptFfbN6/3C19NxcErLjh4a/WbzyZFDwnT52XjXZc3bfzbFcuM+topRGin1XFOarDzI13Jbw2xL9Tw9lDbPEjHiplhzhG/YfLb8gKfAAdEOMZsBctufZwRNSB9bdRX77rpzsvm133w0sTSPz6Y7SgYkpCMNC9fzNrrz3L7aiv/ZbhrLkWu7bC05KRU8nsGKfWFUgf8uQjejHnOGjVYlfvc1fvUL3pn9rJfTa7Z/MgNLUaju99O3lq2lrVXndKw8uLDfmxd98PRhrv6IroJTKDBSalkNh64GDgOma4mWCvS2eNw4M8WrdFTkZn+1uZHjPqaUZXz7r1n6bEjazfecXFjy/oV3X+yV2czaVj8IauvOKbu+zOnltV//OqlRn3NWKSKvUe0Wk+p5JEHHAwcBkxH2rbeBf4MPItMXwMyS8VC4HSCJspUqgfcvgb31cCc6lceP6P23ReusGXkFOUdeWZG9j6HpaRPmorF1ruwYDQ30PT1Z9R9/J+G2g9f8WHhG191xe3AO/Ri5hQNTkol1u7A0cBRyPIH7wELkOmQGoOOex6Z7aIe+APweHAiPkj5CkiLMTPlQA3wVYzpEEhnKbGPTF4dSCMeeXIjPUpCLiMbha+Q33nsOUqYJsPb8qhR2/Kot7ZyePkTt55QOf/R4/wtnt0cuUWkTdzDmj5m5yxH0XC7I68Ya1oGVqfM2GV4GvE3N+KtLqetfH1r8/KvmprXfGcxW5o9Frv9M29V+UvAm8ig917T9lOl+lcqcBBwDLJY3FrgtcBrXYTP7YrcV8cDK7vuzIQbM+DoFGiKJXMmWL2Q5owxHYA2yHCAxxLjfIMm2LyQ4gzf7hZNnjID3y2malAPZLfBPHfnqbAGi6HATsA4e3beKGtKWqnf73NZ7E4Hfr/fYvpbTSy1RnP9Wn9z41pkVvTvkNivlBpA8oEZwMtIAHoKOImOCWh7aiA/qSullEoCRcgM0u8iT5a3A/sis1QopZRS/WYo0rvuI2Q+vzlIm5JSSinVr/KBi5Dec98ANwCTE5ojpZRS26V0ZMmM15AquznAxITmSCml1HbJhgx4fRrpYXc/MA3t8aqUUioBJiCTx65GBsIehUzGqpRSSvWrLOB8YFHgdT4yQFYppZTqVxZk5u8nkKUp7kZKTUoppVS/cwGXIV2/5yOTrGq1nVJKqYSYAvwDKSXNAYYnNjtKKaW2V6nA2cAXwIfAKWgpSSmlVIIMBW5BuoA/AExKbHaUUkptz3ZDxiX9AFxO9BOtKqWUUnFhRdZH+gD4DDgZnWxVKaVUgqQgs4B/B7wA7J3Y7CillNqeZSCrxq4C7gN2TGx2lFJKxUNMK4ImUDaybPkaZHqhosRmRymlkt9AuuGbXf7tq/TjJR+4Gel5dwOQF+f01cC1khBL2PeAGfRSalAbSBd5X+c1XukXIqvJrgZmoz3vVGfTgO8Dr316mcZA+rtVKmom2z6J5QKVQEHQcQ5gKx3VUSZy060AmoC5SCM/SG+zWwPHNwPz6N3NOQWZO64JKAdmEb7kZCJtORsBfw/y4UDmo6sEaoHfE/p3Ea1COmYFvxJZS0l1Ngp4FWgAWoA36XxdXYf8n2wBjgWuBqoD7w8NSqe76yPc9RlKGvBUUFqzg9KKdB2ZwIXAOqANWIIMCejOI8BVge/2cBR5CabBKYlYE52BQcgS9G/7z7XIH+D5QccdBPwX+QNtdwCwMzASKAZuCmy/BpluZ4/Adg9SiojWzcjNfiSwK3BwN8fvHThn+3USKR83Ajshy5KPRKYDCvW76CkXEpQ+RwLeLkjwa44yne3Ba8A9SEAqRhZAvDtofxHy/3Ed8FzgmNLA++Djurs+wl2fodyMzOQ+IvCZ/YL2dXc9Twf2RR7qXgEejXAekCD5S+AZ4J/ASXQOnJHyotR2JdQT2ChgPR3T5TwEnNrlM2OC3o9FSi0gT5Hjg/YVI0+AwZ+N9Gq3qcs5xhG55DS0y7ZI+dgYSK+raJ9G7cBvkd53s9CSUm+k0/HQY9LRLpcS4r036HPdXR/hrs9QNiHXfLsxQWmtI/x1FJy/9u8SnMdQfgW8E/T+XWR8W0/yEkxLTmrQC3eRv4gs721BZi1I6/KZ4MGidjr+KL2AL/AyAsf6iZ4vxDkiBaeuIuXDF0ivq2j+4A8HvkGmGCro5ljVYRrwKdBIxwNJ+/9Ld/+vwe+7uz7CXZ+hREor0nXUXdAI9dD1OnBG0PszgQU9zEu48yg1KIW7yPdGJh2dhtTtd/1M8JPpGOSJD2ADMKyb8/Wm5DSW6IJTpHzEUnIai7STvElyzXt3KvJEn+w3rU3IJLY5yINPNj3/f43m+gh3fYZSRvjSSqTrKNqgUYwEu67XvDewr7u89PQ8Sg0KtXSutgj2KfAR29bnm0ijdmHg9RpwR2DfNcjT4WjkqW9npA0rWn8NOkdRIM1oglOkfMwB3kbaNlzA3wLbI/0unMD1SCnymOi+Sq9FcwPaiDxIJLtqZB2qFOQmPI/eBafuro9w12eodO9C2osKAq9Xg46JdB1FGzSuBJ4Msf1xpENPd3np7jzR/P6USnrXIj2nQl24xyE3va6dUbr2hnoSWeKBwLFX09GDaSnypBytVKTXUnPgPN311usqUj4cSKN8NVBDx40h3O/iYGSqob8iszwkIz/Rd+RIhOORwcg+pF3zEnoXnLq7PsJdn6HSTUc6J7SndQ1yzUDk6yja4PQN0oGiqwOBr3uQl/b0w9U2aHBS240LCN3Tbnu5yPOQG+BnSA+8/tb1xhOu23Kom1Uq8BjgDrwepfMNejAKF+SiNQEZOJ0MkikvSiWFHKQKK9Sqq9tDcDoWGcH/WxI3jKFrcJqHtH9kIFWM/w1zLMCdSHVUe5ftt5CS32AWS3D6G9IdvAT5vd0d+fA+lUx5USqpmEjPpIsj7B+scpFqlQ+RMTKJ1DU4Req23PX/pAzpJNBuHJE7BQwGsQSny5Axag3As0BmvDI1wPOilEoCRyFjli4mOdpvIrUndLc/VJfk7sbgKKWUSiKpwN+BT+jcjTfRYglOZWw7SLUsTvlSSinVxyYC/wP+TOiBuYkUS3C6GxncWRR4vYl0U1ZKKZXkzkM6fRyY6IyEEUtwSkPGz9QHXo/TeZYPpZRSScaFTM/0CrLmklJKKZVQ+yKlpYsSnRGllFLKhiy78DUwOcF5UUoppShB5gh8CF3WQikVZ8kw7kQNPPsgs6rfADyf4LxEKw/paVeATGBaQMdA3Cykd2E6MomqG5lfrxEZz+RB5g2sQlaRrQy8dKyTUnGmwUlF6yJk+qHTkQk7k4kD2BFZ8XRE4Ocd6ViZFyTglCNBpYqOZeUNZELTNqAVCUSuwGdykOmWMpBAVkJHgCtCAlkl8CMyT1/7a23g1RKH7zYJmfrJF4e0lEp6GpxUT6UiiwAWAWcBdQnKhwVZYnxs0Gs8MjjWTkdgWE/nQLGZvr2xF9IRFEcF/dw+aHcN0mnkByTIrCC6AbwVSPA9Dll2RalBLd7BqQjYm/T03XG59sIwSvH5Cmlry8Bu92K1Wmlrs2Kz+XA63dhsW/D7V1BR8TnSqL4EfTKMVgawl9Xq2NVmy9oHbKP8/rYSMDIBLBYbpmkAWMDWaLU6tpimuc7vd3/h9/uWIBOdNnZzjlLgJeAN4CZ6twpvb2QDuwZeuwC7I9fYRuQGvxJYHfh3FVLaSUYpdATRccis2OOR0twaZMDyt0gpaw0StLqOsapB5iisAxYC5yNVi+0ykPWxVP9pRZbh2B6k0TEDfwP9cJ+ONTjZgP0oLDwb0zwMlyuNAw6ws+eeWUycaGHYMBg2DNJCjFOsqIDyclizBpYubWXhwkaWLLHicKzG7X4Gj+cl5GlXbWsnuz3zVIvFeTJYizIydjUzMiblpKePtTmdJTgchdhsWdt8yDAa8Xq30ta2FY9nldHUtLy+sXEJ4K8yTe9LPl/DPOQmGexg4GFkUbcFXdOMoxykLWtvJBjtjLTlfBN4fR3I22C6JixIKWsKMqvG6MD74chNbzXywLYemf28vW3MhzxQ3BnY3pYBn/hgnx3kxtFrBlgawOmSG29M6iAlC9psMU5q7ANrMziy45CnWkh1QaslxjytgdwseKNe5o4cLFzA/vbM7L0tqZk/w9c2xm/4srFabRarDVt6Vptp+Cz+Vo/DNHwmfr9hdaZUmlb79/6G6kX+1tbPgS+Jw/8T9D44DSUn51IslplMm2blnHNyOewwCzk5sefo22/h3/9u4emnPXg8q6iouAW5KfbX03qySrdaHedYLBmzUlKGZOfnH+VyuabbnM6SmBP2eiupq/vIqK5+ra6lpazRNNvu8vs9TwBnIG1MJyMlk3gahwSjaYF/rcD/IcvYLwGWkbwlof6QjpSu9gBOAPZHSpLBmpD2svOL4eKX4Mj9YjzpBmQVwGdjTAfk4rkVKXbHYinSJfTBmHMERyPfLdY71evARfDCxt4t+plMdrJn5ZxhsTtPISUtN3uvQyyZu0xzpY2eTMrw0dhzC8N+0DR8+Kor8Kz7Hs/q74yGrz6sa/r2c5vFaltj1Nc+4fe2vkzn0n1Uog1OxeTn34rNdgKzZ2cwY4aDvLzuP9VbixbB7be7WbjQjds9C8N4oe9OlrScVmvGFRaLbVZ+/hGpRUWnZqSk7NBnJ2tt3czWrfOaqqsXtJpm63N+f+tNSGN/rCYAPwcORaro1iELDn4eeNXE4RyD1V+BP3RzjPkCWE6O8UQanHpmgAcnh83mONOSlXOVs2hYQcEJF+S4ph9ncxQOjUvintVLqX3vxZaqV59owfAu8VZX3IQMO4lKT4OThczMS0hJuZHrr8/kwgsdOPuxevuHH+DSS90sWbKaqqrTkTaG7YD9YJst7em8vCNcQ4eel2G35/bbmX0+N+Xlj3uqqhbUGkbzr8H3dpRJ5ACH0BGQNiOL872Hti1GawVS0jSR6rxWpPOHBel5uMoJU26AIVcTW129BqeeGaDByWJLTf8NjpSbXAcem1Fyzh+zUkdO7LuzmSb1X77Ploevr23ZsLrMV1d5IfJA2iM9WY20kPz8hfz853P44YdcLr20fwMTwIQJ8M47OTz55B4UF39BevrM/s1Av7Pb7dn3pqXt8PL48Y8NKy2d3a+BSTKQw/DhV6ZNmPD40LS0Ec/bbDmP0H2D+3jgKuBjYDESmN4GpiITwd6K1En3Z2CyBc67FWnHmYeMZwK52V+BdLDwR9jW3fLsoT4TTwbwH2Sl3pnAYUgXeRdSIj0mF5YcgHa/VWFNsmfnLc2adtidk/71dcmIG5/s28AEYLGQvdehjJ+7KHf03fMnp42cuMDuKvw3HUM0IuouOI0hL28Jd921Fy+/nEVBQewZjsVRR1lYujSX3Xa7i/z8exmcf4sZdrvro9zcX8ycOPG5nLS0Md1/og+lpo5k4sRncwoKjjrTbs9ZSMeNvd0E5Kb5DTAXGSd0PtI77SJgPnJDT5RrkA4HeyBLq3uA24P27x3YZ42wbQ4wFPlO45DCwM1dzhMqnXiZBBwfyMeLSO+++j44jxqErOmZFzjyh3w26rYXdhp9x8vZzpJYy7LRy9xlGpOe/841ZOY1R9uy874H9uruM5H+kMZQWLiQ+fOHcs45ybMmT2EhfPRRDoccMoP8/H8kOjtxlm63uz4ZMmTG1NLSqzIsFkei8wNId/Thw69MHzr0ol3t9uzPkUGo5wOLgGeQ7s1HIRPA3o1UQyWLmcAlyHLqDUjJ7sSg/VeybZta122nAZcjpa8K4NLAtkifUSrRLLbs/PvSx+12x6QXlrqy9joksbmxWik67XLn+Ec+LHEUDn/b5kw7IeLhYbZnk5//Aa+9VsT++ydf6cThgHnzsth//xMpLLw20dmJF7vdNb+kZMbEoqIzUhKdl1AKC09yDh164VirNeMdpMR0AVJldx9y809Gw5Cefz6keqwcGSvVLlTX9K7bipExSO3WBrZF+oxSCeXILfp79l4Hnzvu4Q+y7TnJs4pN2thdmPjMly57yfC5Npvz+HDHhQ5OJSXPcd99Jey9d/IFpnYWCzz/vIuioiuQ6pQBzWrN/m1Ozr57FRefkdSL1xUW/sqZl/eLHe32nHKSb/qiULYg7TN2pP3JQvRVbxXIFEjtRiGlKKWSkiM777L0iXucOfIv/8qy2JOjBiaYI7+ECY9/5rIVlTyO9N7dxrZ/pHb7QUydug+nn55836grpxPmz89nyJB/MrDbn/IcjozrS0uvjsNAsb5XWjor22bLvpLOJZBk9TDSgWE0EqB2RjpFRON54B46lme/txdpKNVfxtly8q8b9deXcyxWW6LzEpY9t5Cx972V58gtmo/MotLJtsGpsPAhHnggfoOXLJaOV1YWHH44rIxjT/AxY+DYY4eRlnZS/BLtXw5H/i3Dhl2cZ7Wmdn9wN9asmc3mzQ932rZ580OsWTM75rTbWSxOhg+/vMDhKLgzbon2nduQ6X7eR3rrPYes1huNa5HS0+rAazOyjpVSScdROPSpkbc9X2BNia0Sxv3ZGyw/fTf+t08K3x0/hurXnoxPBoOkjpxI8dmzhthdBX/suq9rcJrCpEkFlMa5N4dpyuvHH2HKFDj99Pimf8UVObhc18Q30bgYTffdJp2maZ7kch0Sl5JqaelsKitfxuNZDYDHs5rKylcoLd3m/z4mLtf+NjCPROZ0S2Z+pCv5CKQr/M50LPMRqrQdapsH6ViRHXjNpPPsFQO51K4Gl/0zJu45Ln387jEl0vjtItbfNJPhl9zO7p80MPb+t2n438dxymJnRaddlmpxpvwOyAze3jk45eWdzYwZfTflQ0EB/OlPMkVRPI0fDykppXTMPZYsZiDTy3wMnIpMntjVQdnZe9kslvh0iHQ4Chg27HesX38zpull/fqbGD78YhyOeDeIWsnJOcCBjGVSSvWtbOBwpGo6LGfhkKuLz/p9zPfBiidvZ9glt5G9z2FYHE5Sho9mxA1PxJpsSBa7g4JjZmRaU9LPCN7eOTg5nYcwbVrfPQVWVcGcObBLyPav2Oy/vxUZa5JM2mf7PgB4BGmcfw04Aln+AKs14+Ds7J/1aFBaTxUUHIfVmsGKFedhs2WRn39sPJP/SVbW1GybzXVonySulArmAt5EOuI8DezHtiV2q9Hauk/mbrHOsAiN33xGzr5HxpxOT+UeclK6Ldt1TvC2zlG4paWYYcPif2ZL4HeYkQHTpsEzz8T/HGPGZCBLKiTTGJvgJ5j2STuPRi4sE3jdYrHu6HAUxP2BYMiQX7Ny5YWMG/dw9wf3ktM5BJvNNtYw+uwUSvwCefB6CFkgUW2fKpF1w9f4N9kAAA6TSURBVM5ExhUaSMecx5FB8JPSRk70/XS/jYHRUIctp/8qolLHTMbf6pkQvK1zcDJNe59MTWTGNDt9z+TkOIBzgIP6/mQ9NiLMdhcSnM40jAbq678gO3tv4tl0sWXLXDIzd2fLlsfJypoat3SDWa2pmKYl2ducBoOdkHW0rkQevh5EOnXEtDyGio0H8pF5I/tDER01XRY6Hnx/h0xj2Ax8ZcvKiUvbtS3LheGuiTgreTxZrDYsNrsVqVHyQtfgZLN5aGpykTEA7zcVFR6k4fvJBOck2FVInoLVIY30C4BHHY78i7KyppwRz8BUVfUfTLOFceMeY8WK31BV9R8KCo6LW/rtDMON399mIktqgHQSaF+S3ECm2GlfkK39Z72hRq/9d+pCSlA7IQOf/4sEqjcTlK/tmkfW3Tq/n06XjozT68qKLELpBI5r3bimzVdfgz07tlJPxq7TcH/+FvlHnhX2mK+mWrDYHeTsdxSj74y2A+y2LHaniXyPEMEpJWUFy5YNYa9upz1KPosXNwPLE52NLtqfdOqRgPQxUjXzHnLzxjDqp7a0rPlVTs7+cXni8Xqr2Lz5QcaNewSLxcaIEX9ixYoLycnZF4cjvnMjejxrDL+/qQKZu85J55577TPVZiNjGLKQP7AUOiaQbSN08GoK7COwrzXo+Ka4fomB4Wdd3rf3avo5MkdZaiWYXyGLY/XF5H5qW3nwTVP/zUpeikymHKyWQPMA0qbtdw4b+Zo9Oy/m3k8l517F2j+ejCO/hKw9DqStYiNb5t7CiOvn/nTMlMUmnrXLWH7Kzvg9TVjTYivU+FubrQT9fXcOTvX1r/LBB9PYa6+BtdyzYcCSJRZkQsxksx74PbLE+TaL5/n93g/q6ha6i4vPjUvk2LDhDgoLTyE1dQQAqamjKCo6iQ0b7mD06DvicYqfuN2f1pqmcTsy03hvBQevjMDP7R1EUpCABnLPHRCDlPtAuKXATeQhp8kKpgtSNTANagXIQ5xJ5wfd9ln+szxrvovLJZC5yzR2vO4xNt07i5Yfv8dZUsqQmZ2H9tV9NJ+Nd1zCsIvmxByYvNXlWG2OyuDm687BqanpGR577Bquuip+j9j90d701lsmDsfbJN8aQX8JvCJZ2tq6ocHrrSlwOGJvgAwVgIYMiX/Ng89Xj8ez0kNsgQk6ZtfWSVPDswHBgwM7VQ0Di/JhwWjov+5Vqr/5kJqhPyP/76FWiW7A11bp3VqW6yiKvWNbzr5HRuyxt+YPMm9r2YPXUnTmlVidvZ9EoP7/3vWbFvP14G1do2wlLS0f8MYbA2tJ9BtuqGLLlhsTnY3e8vtbbywvnzuglkCoqHi6wTC8tyQ6HwnUD09dP2mf2sWNrOt0GtJAfg6yeFt/5kUlxmZgMrJkSqjABIDR3Hx/1atzw+6PpymLzZ9esQQmgMp5f6/x1VR2Wk9y2yLg5s2XcfHF1TQNkKr9p59uY/PmdxjAq+MaRtM/a2vfLWuf1SHZtbSso7p6QYXf3/hYovOSQP05K8RXwFnAEGRdp7cItFkqFczvafxH1cuP1hjNA6ffUdPSL2jbWvYtXYYBhaqfLKem5lrOOKO+X6rkYrF0KcyeXc6WLRclOisxMr3e6pPWrv1DtWE0dn90Avn9Htas+X2111t1Mn2z6mtPrEJW3QVZEsOPLAYIspTHqi7HjwJeRTpbtCC929onrQ23iq0JXAisQzpiLAF267K/p8emAU8hjb3lwGyiK+18iqyb1S9PxGpA8xiehhs23nlZIhf47DGzrZV1N55b5a3afEHXfaEbz9zux/jiiwVceWXyFp82bIAjjqihouJoBkf35OVer3vWqlW/q/X7W7s/OgFMs41Vqy6q93prrgG+TmBW3gSmB34+FunNd3Tg/UFI55Ngr9Exq3gx8oR2d9D+cKvYTkcWUMxFxhU9GiFPkY69GenMMQKZ2y/2IfxKhWE0uB93f/rGkpo3nkm2NvhtrJ9zXr2vrvoOZELlTsL37KioOJtnnvmU885rJNmmAPjuO/jZz2qpqDiJgbGmUI8YRsMTra2bbl+xYobb50uuJijDaGDFivPcHs/aeYbREOkm3R/eBA4M/HwMMubnmMD76Ww77mcn4AOk5OFGlm7/RdD+cKvY/hYoQ0o8dyIzkIQT6dhTg85RGfhZqT7jq604fsPdV2xwf/F20vYf2HTv7Gb3ojc+8LmrQq5uEKnboUFV1dHMn/88++7rpry8j7IYpWeeMZg+fStbtvwCn+/DRGcn3nw+9+2trWWXL19+Sl1T07JEZweA5uYVLFt2qtvjWfsXw2geB3yB9B5L1JpfHyHjezKRMUC3IkN80gPbP+py/DSkaqwRqU5rQrrltgu3im1N0M/NRJ50M9KxJciQgnbrIqSjVDy4jbqqA3+89vSNNW/805vozAQz/Qbr55zXWP3qk5/66qpPIkwVd3d94g2qqn7DN9/8jsmTa5k715ewdqiyMjjmmHouv3wx1dW7su2AtEHDMJqe9HorD1q16pKNmzb9zeP3hxvm0rf8/lbKyu73rFx54Wavt+JQv99zB1Jtdj5wMPADsq5R/8xx0sGDtCv9DunKXod0GrgE+J6OGRXavQDcj7RPtY+X6s8ODRXIarztRvTjudX2a5Phrtlj412XL1s/5/wmsy3xzQXerWWsOHtvd+3H8//lc1ceSYSOPT0bsNXS8izV1Tvxxz++xU471fFG1yr9PlRdDbNmedhllyree+9yqqv3QRqVB7uvDaN+fHX1q/cuXXp83datL/hMs38egEzTS2Xlv31Llx7jrqp6+RHDaBhL54eBb4HfIG01BvA5MJfI1V7x9iZwNfBO4P07gfehpvJJQwJWC7Lcen9XS84D7kJKawV0bu9Sqi/V+Nw1e9a9/+LD3/1yXF3Df99PSCZMv8HWeX/3Ljt1l9qWtcvPN2qrzqebDlXRjCbeQlXVMXz//SGce+4njB5dywMP+Kiriy3X4SxeDGedVc/YsdU8/PAt1NSMoKXlCbavMR0en6/hap+vZqfNmx95+ttvj3CXlf3d09a2pU9O1tZWzubND7Z8++2RdWVlDz3n89VM9vnqryD8DAVVSJXaROBtpNPBl0j7S1/P5vBm4BzvBt6/G3gfKjjNRAJCE/AhMjaoP/0JqVLcACxDqkWTqqpFDWo+X0PdH9q2bDhw7TWnfrPyvANqm777v/45s99PzdvzzO+OG11X/thNrxj1NeOMNs8LPfloLFUbo8jLuww4lQkTbJx2Wi7Tp1vZaSd6NWV7fT0sXAhvv93Eiy968ftXUVV1N4bxMh3zrG3vXFZrykybLe1Cmy07Ly/viIysrD1TMjImYbFEP+OUafpoalpOY+N/26qr32o0jLo6w2h92O/3PE7nNpRoTADOBU5CbsKPI21A29NDRXcmID0KR8UrwWJ4/SU4MtZugBuQ4uezccjTGciTS6zrai9F5ul5sLsDe+Bo5LvF+uT0OnARvLCx/+bWi6dfOHIL77C7CkuLzv5DTu7Bv7TaMrK7/1QU2so3UL3gqdbKFx/ymH7jE1/t1tlEuZxRvOrdp5CZeRRZWUfh8YynpMTHrrtaGT06jeHDUykoAJsN0tKgsRFaW6G83ODHHz18/30Ly5fbMYwm7PaFlJe/ijz91sYpb4NVqdXqONpudx1rGK1TbLYMa1raaFJSSlNSUoak2+15FovFhs2WgWE0YZp+fL5a2tq2NLW0bGj1eFZjGA2m1Zr2P8OofdXv9y4gvg31dmTNmRnImKTnkKq/sjieYyD5G7LsRQoSsFcQx157Gpx6RoNTJ5NsOQWXYponpI2aYHMddGJO1h4H2tPG7IzFEd3DrtFUT/OyL6lf/IGn7v1/e4z6mhqjte1Jf7P7MWSBxKj1VaPwUGASMIz09JGkpeXjcGRjGE7s9nqamhppbNyA378J+BGZM6prI7aKjgupXhtltdqHWq2pwyyWlCzwp4PVY5qtDX5/S5nf7ytDeo4to/8eAEqQqXbOREpkLwH/JnwvucHoMqTzSCoyIPgCOlZKjsSB1BysQcbzNQZe9UhHEDdQlwIX/gx2OD1sMj1TgwzSmhljOiAR+AQ6r7jZG2XILKexfjeQXjEzkUbIWLwOfA5vVcqq1oPBbtaUtENt2a5j/K0tE61pGfbU4WP8zqEjbM7i0lRrWnqqLTMH0/Dh9zT6jQZ3S+vmH1vbytcbrZvW2k2f0WxxOr/01W79D4bxPvKcE5P+7LGkFMiYo5OAE5EbbHug2pTITCW5r5BBwuGYgCUbHrDHvlKuxQS7JQ5tYiY4LDJhaaxVuvHMk9MSh2YCExzNsKhV4tRglA2MRnq4FgNpWK2Z+P0m8kDUDGxBnh1Wo00vapCZiHQW+AbppHAFMCahOUpOFyA3AzPEqw7piBJpDJZSA46WnFSyGI+UqI5CqijfCrw+Yfur8rUDOyC/kz2QgcUH0rHOFUiJpBaZoTwx/YOV6kManFQyygMOR9Yn2hepv/4Q6fX3BYMnWKUDuyIrCU9CqlFGIMFpAzLQ+GukWu9fyBgtkOrQJcDJ6DpYapDS4KQGggnInHnTgT2RUsMapK57VeDf1Uhvw2QZP2RFOoKUAsMDrx2REtEOSD2+Hwk8XyEDm9ciHYRCDeW/DZiFBKZbkEG92j1fDVoanNRAlIq0TXV9jQjs34wsgbEJabDdEPi3AqkKi2UWewsyXVP7bA9FSBAahgSgEXRMk7QlkIdNSA/JTYF8bUBmOYkmuOyBBLHdkDY6pQY1DU5qsHEgQxl2oKPEMjzwvgBZ0iIbCQxepCQSqku9iVSvZSPVbymBtP1ANRLoqgKvciQgrkcCz2biX4KzID2gEzPRolL9TIOT2p45kGCV2WV7ClLyaV9io5WejUlSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUmpw+n8weKqd65nEcgAAAABJRU5ErkJggg==)

emit_log_direct.php代码类:

```php
<?php

require_once __DIR__ . '/vendor/autoload.php';
use PhpAmqpLib\Connection\AMQPStreamConnection;
use PhpAmqpLib\Message\AMQPMessage;

$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');
$channel = $connection->channel();

$channel->exchange_declare('direct_logs', 'direct', false, false, false);

$severity = isset($argv[1]) && !empty($argv[1]) ? $argv[1] : 'info';

$data = implode(' ', array_slice($argv, 2));
if(empty($data)) $data = "Hello World!";

$msg = new AMQPMessage($data);

$channel->basic_publish($msg, 'direct_logs', $severity);

echo " [x] Sent ",$severity,':',$data," \n";

$channel->close();
$connection->close();
```

receive_logs_direct.php代码:

```php
<?php

require_once __DIR__ . '/vendor/autoload.php';
use PhpAmqpLib\Connection\AMQPStreamConnection;

$connection = new AMQPStreamConnection('localhost', 5672, 'guest', 'guest');
$channel = $connection->channel();

$channel->exchange_declare('direct_logs', 'direct', false, false, false);

list($queue_name, ,) = $channel->queue_declare("", false, false, true, false);

$severities = array_slice($argv, 1);
if(empty($severities )) {
    file_put_contents('php://stderr', "Usage: $argv[0] [info] [warning] [error]\n");
    exit(1);
}

foreach($severities as $severity) {
    $channel->queue_bind($queue_name, 'direct_logs', $severity);
}

echo ' [*] Waiting for logs. To exit press CTRL+C', "\n";

$callback = function($msg){
  echo ' [x] ',$msg->delivery_info['routing_key'], ':', $msg->body, "\n";
};

$channel->basic_consume($queue_name, '', false, true, false, false, $callback);

while(count($channel->callbacks)) {
    $channel->wait();
}

$channel->close();
$connection->close();
```

如果你想节省只有“警告”和“错误”(而不是“信息”)日志消息到一个文件,打开一个控制台和类型:

```php
php receive_logs_direct.php warning error > logs_from_rabbit.log
```

如果你想看到所有的日志消息在你的屏幕上,打开一个新的终端和做的事:

```php
php receive_logs_direct.php info warning error
# => [*] Waiting for logs. To exit press CTRL+C
```

例如,发出一个错误日志消息类型:

```php
php emit_log_direct.php error "Run. Run. Or it will explode."
# => [x] Sent 'error':'Run. Run. Or it will explode.'
```